<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>VolleyballPro â€¢ Overlay</title>
  <link rel="stylesheet" href="css/main.css" />
  <style>
    html, body { height:100%; margin:0; padding:0; overflow:hidden; background:transparent; }
    body { background: transparent; }

    .overlayViewport{ position:fixed; inset:0; width:100vw; height:100vh; overflow:hidden; display:flex; align-items:center; justify-content:center; }
    .overlayStage{ width:1920px; height:1080px; transform-origin:center center; position:relative; overflow:hidden; background:transparent; font-family: var(--sans); }

    .scene{ position:absolute; inset:0; opacity:0; pointer-events:none; transition: opacity 420ms ease; }
    .scene.active{ opacity:1; pointer-events:auto; }

    /* === GAME (new style) === */
    .scene-game{ position:absolute; inset:0; }
    .gameHUD{ position:absolute; left:60px; top:60px; display:flex; flex-direction:column; gap:18px; }
    .teamRow{ display:flex; align-items:center; gap:16px; }

    .teamPill{
      width: 560px;
      height: 92px;
      border-radius: 26px;
      background: linear-gradient(90deg, rgba(10,12,16,.92), rgba(40,42,48,.92));
      border: 2px solid rgba(255,255,255,.08);
      box-shadow: 0 18px 50px rgba(0,0,0,.35);
      display:flex;
      align-items:center;
      padding: 14px 18px 14px 22px;
      gap: 18px;
      backdrop-filter: blur(12px);
    }
    .teamName{
      font-size: 34px;
      font-weight: 900;
      letter-spacing: .2px;
      color: #fff;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
      flex:1;
    }
    .setsBox{
      width: 96px;
      text-align:center;
      display:flex;
      flex-direction:column;
      gap:4px;
      align-items:center;
      justify-content:center;
      color: rgba(255,255,255,.75);
      font-size: 12px;
      font-weight: 700;
      text-transform: lowercase;
    }
    .setsVal{
      font-size: 22px;
      font-weight: 900;
      color: #fff;
    }

    .pointsPill{
      width: 120px;
      height: 92px;
      border-radius: 22px;
      background: rgba(255,255,255,.94);
      border: 2px solid rgba(0,0,0,.12);
      box-shadow: 0 18px 50px rgba(0,0,0,.35);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 36px;
      font-weight: 1000;
      color:#0b0f16;
      letter-spacing:.5px;
    }

    .streakPill{
      height: 52px;
      border-radius: 999px;
      padding: 10px 14px;
      background: rgba(10,12,16,.92);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 16px 40px rgba(0,0,0,.28);
      display:flex;
      align-items:center;
      gap:10px;
      color:#fff;
      font-weight: 900;
      letter-spacing:.2px;
      backdrop-filter: blur(12px);
    }
    .streakPill .flame{ font-size: 18px; }
    .streakPill .txt{ font-size: 16px; }
    .streakPill[hidden]{ display:none; }

    /* === Ticker === */
    .ticker{
      position:absolute;
      left:0; right:0; bottom:0;
      height: 92px;
      background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.78));
      display:flex;
      align-items:flex-end;
      padding: 18px 60px;
      gap: 18px;
    }
    .tickerInner{
      width:100%;
      height: 56px;
      border-radius: 16px;
      background: rgba(10,12,16,.78);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 18px 50px rgba(0,0,0,.35);
      display:flex;
      align-items:center;
      padding: 0 18px;
      gap: 18px;
      overflow:hidden;
      backdrop-filter: blur(12px);
    }
    .tickerLabel{
      color:#fff;
      font-weight: 900;
      font-size: 22px;
      white-space: nowrap;
    }
    .tickerItems{
      display:flex;
      gap: 70px;
      align-items:center;
      white-space: nowrap;
      overflow:hidden;
      flex:1;
      color: #d9ff7a;
      font-weight: 900;
      font-size: 24px;
      letter-spacing:.3px;
    }
    .tickItem{ display:flex; gap:14px; align-items:center; }
    .tickSep{ opacity:.55; color:#fff; font-weight:700; }

    /* keep other scenes working */
    .scene-break{ padding: 46px 60px 60px 60px; }
    .scene-break .breakOverlay{ position:absolute; inset:0; padding: 46px 60px 60px 60px; }
    .scene-technical{ background: rgba(5,8,18,.96); }
    .scene-sponsors{ background: rgba(5,8,18,.96); }

    /* Allow point pulse animation from overlay-anim.js */
    .pointsPill{ will-change: transform, filter; }
  </style>
</head>
<body>
  <div class="overlayViewport">
    <div class="overlayStage" id="stage">
      <!-- GAME -->
      <div class="scene scene-game active" id="sceneGame">
        <div class="gameHUD">
          <div class="teamRow" id="rowA">
            <div class="teamPill">
              <div class="teamName" id="aName">â€”</div>
              <div class="setsBox">
                <div>wygrane sety</div>
                <div class="setsVal" id="aSets">0</div>
              </div>
            </div>
            <div class="streakPill" id="aStreak" hidden>
              <div class="flame">ðŸ”¥</div>
              <div class="txt" id="aStreakTxt">SERIA 0</div>
            </div>
            <div class="pointsPill scoreBox" id="aScore">0</div>
          </div>

          <div class="teamRow" id="rowB">
            <div class="teamPill">
              <div class="teamName" id="bName">â€”</div>
              <div class="setsBox">
                <div>wygrane sety</div>
                <div class="setsVal" id="bSets">0</div>
              </div>
            </div>
            <div class="streakPill" id="bStreak" hidden>
              <div class="flame">ðŸ”¥</div>
              <div class="txt" id="bStreakTxt">SERIA 0</div>
            </div>
            <div class="pointsPill scoreBox" id="bScore">0</div>
          </div>
        </div>

        <div class="ticker">
          <div class="tickerInner">
            <div class="tickerLabel">Inne mecze na Å¼ywo:</div>
            <div class="tickerItems" id="liveTicker"></div>
          </div>
        </div>
      </div>

      <!-- BREAK -->
      <div class="scene scene-break" id="sceneBreak">
        <div class="breakOverlay" id="breakRoot">
          <div class="breakTop">
            <div class="breakTitle">
              <div class="breakKicker">PRZERWA</div>
              <div class="breakTournament" id="btName">VolleyballPro</div>
            </div>
            <div class="breakMeta">
              <div class="breakPill" id="btSlug"></div>
              <div class="breakClock" id="btClock"></div>
            </div>
          </div>

          <div class="breakGrid">
            <div class="breakLeft card">
              <div class="breakSectionTitle">Tabele grup</div>
              <div id="breakTables" class="breakTables"></div>
            </div>

            <div class="breakRight">
              <div class="card breakPanel">
                <div class="breakSectionTitle">Ostatnie wyniki</div>
                <div id="breakLast" class="breakList"></div>
              </div>
              <div class="card breakPanel">
                <div class="breakSectionTitle">NastÄ™pne mecze</div>
                <div id="breakNext" class="breakList"></div>
              </div>
              <div class="card breakPanel">
                <div class="breakSectionTitle">Mecz na transmisji</div>
                <div id="breakProgram" class="breakProgram"></div>
              </div>
            </div>
          </div>

          <div class="overlayNotice" id="breakNotice" style="display:none"></div>
        </div>
      </div>

      <!-- TECHNICAL -->
      <div class="scene scene-technical" id="sceneTechnical">
        <div class="techInner">
          <div class="techTitle" id="techTitle">ZARAZ WRACAMY</div>
          <div class="techSub" id="techSubtitle">TrwajÄ… przygotowania do kolejnego meczu</div>
          <div class="techBar">
            <div class="techClock" id="techClock">--:--:--</div>
            <div class="techHint">Ekran techniczny â€¢ VolleyballPro</div>
          </div>
        </div>
      </div>

      <!-- SPONSORS -->
      <div class="scene scene-sponsors" id="sceneSponsors"></div>
    </div>
  </div>

  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="js/config.js"></script>
  <script src="js/supabase.js"></script>
  <script src="js/util.js"></script>
  <script src="js/ui-shared.js"></script>
  <script src="js/engine.js"></script>
  <script src="js/state.js"></script>
  <script src="js/overlay.js"></script>
  <script src="js/overlay-anim.js"></script>
</body>
</html>
